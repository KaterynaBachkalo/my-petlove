import{r as g,a as $,b as q,u as E,j as s,I as i,L,c as B,B as n,l as D}from"./index-DzExS3yp.js";import{u as F}from"./index.esm-CcVRY7H4.js";import{c as T,a as t,b as I,o as R}from"./index.esm-hcnLmFlR.js";const G=({formText:N,link:y,textLink:k,buttonText:v,isInput:m})=>{var w,x,f,j;const[l,d]=g.useState(!1),[p,h]=g.useState(!1),u=$(),S=q(),P=T({name:t(),email:t().email().required("Email is required"),password:t().required("Password is required").min(6),confirmPassword:t().oneOf([I("password"),void 0],"Passwords must match")}).required(),{register:a,handleSubmit:b,formState:{errors:e}}=F({resolver:R(P)}),{theme:o}=E(),C=async r=>{try{if(S.pathname==="/register"){const c={name:r.name,email:r.email,password:r.password};if(await u(B(c)),e)return n.error("Something went wrong...");n.success("Registration successful!")}else{const c={email:r.email,password:r.password};if(await u(D(c)),e)return n.error("Something went wrong...")}}catch{n.error("Something went wrong, please try again.")}};return s.jsxs("form",{onSubmit:b(C),children:[s.jsxs("div",{className:"wrap-input",children:[m&&s.jsxs("div",{children:[s.jsx("input",{...a("name"),placeholder:"Name",className:`input ${o==="light"?"":"dark"}`}),s.jsx("p",{className:"form-errors",children:(w=e.name)==null?void 0:w.message})]}),s.jsxs("div",{children:[s.jsx("input",{...a("email"),placeholder:"Email",className:`input ${o==="light"?"":"dark"}`}),s.jsx("p",{className:"form-errors",children:(x=e.email)==null?void 0:x.message})]}),s.jsxs("div",{className:"password-wrap",children:[s.jsx("input",{...a("password"),placeholder:"Password",type:l?"text":"password",className:`input ${o==="light"?"":"dark"}`}),l?s.jsx("div",{onClick:()=>d(!1),children:s.jsx(i,{name:"openeye",className:"icon-eye"})}):s.jsx("div",{onClick:()=>d(!0),children:s.jsx(i,{name:"closeeye",className:"icon-eye"})}),s.jsx("p",{className:"form-errors",children:(f=e.password)==null?void 0:f.message})]}),m&&s.jsxs("div",{className:"password-wrap",children:[s.jsx("input",{...a("confirmPassword"),placeholder:"Confirm password",type:p?"text":"password",className:`input ${o==="light"?"":"dark"}`}),p?s.jsx("div",{onClick:()=>h(!1),children:s.jsx(i,{name:"openeye",className:"icon-eye"})}):s.jsx("div",{onClick:()=>h(!0),children:s.jsx(i,{name:"closeeye",className:"icon-eye"})}),s.jsx("p",{className:"form-errors",children:(j=e.confirmPassword)==null?void 0:j.message})]})]}),s.jsx("button",{type:"submit",className:"form-button",children:v}),s.jsxs("p",{className:"form-text",children:[N," ",s.jsx(L,{to:y,className:"form-link",children:k})]})]})};export{G as F};

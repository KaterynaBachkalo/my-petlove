import{at as x,B as U,r as c,u as f,b as j,i as y,k as g,j as e,I as F}from"./index-eLs6BXCE.js";function N(t){try{return decodeURIComponent(escape(t))}catch{return t}}const R=async(t,s)=>{if(t)try{const a=(await x.get(`proxy?url=${encodeURIComponent(t)}`,{responseType:"blob"})).data,o=new File([a],t,{type:a.type});s(o)}catch{U.error("Error loading image by URL")}},C=c.forwardRef(({onChange:t,isModal:s},n)=>{const[a,o]=c.useState(""),{theme:l}=f(),i=j(),p=y(g).avatar.split("_").slice(1,3).join("_"),d=N(p),u=r=>{t(r)},h=r=>{o(r.target.value)},m=()=>{R(a,t)};return e.jsxs("form",{children:[e.jsx("input",{id:"inputFile",type:"file",onChange:u,className:"inputFile",ref:n}),e.jsx("label",{htmlFor:"inputFile",className:"uploadPhoto",children:!s&&e.jsx("p",{className:"profile-upload",children:"Upload photo"})}),s&&e.jsxs("div",{className:"selected-file-input-wrap my-pet",children:[e.jsx("input",{type:"text",value:i.pathname==="/add-pet"?void 0:d||a,className:`selected-file-input ${l==="light"?"":"dark"}`,placeholder:"Enter URL",onChange:h,onBlur:m}),e.jsx("label",{htmlFor:"inputFile",className:"uploadPhoto",children:e.jsxs("div",{className:`profile-upload-wrap ${l==="light"?"":"dark"}`,children:[e.jsx("p",{className:"profile-upload edit",children:"Upload photo"}),e.jsx(F,{name:"icon-upload",className:"icon-upload",width:18,height:18})]})})]})]})});export{C as U};

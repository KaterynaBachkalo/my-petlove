import{an as m,B as x,r as l,a as U,g as f,h as j,j as e,I as y}from"./index-CTbu2FOC.js";function F(t){try{return decodeURIComponent(escape(t))}catch{return t}}const N=async(t,a)=>{if(t)try{const s=(await m.get(`proxy?url=${encodeURIComponent(t)}`,{responseType:"blob"})).data,o=new File([s],t,{type:s.type});a(o)}catch{x.error("Error loading image by URL")}},b=l.forwardRef(({onChange:t,isModal:a},r)=>{const[s,o]=l.useState(""),c=U(),i=f(j).avatar.split("_").slice(1,3).join("_"),p=F(i),d=n=>{t(n)},u=n=>{o(n.target.value)},h=()=>{N(s,t)};return e.jsxs("form",{children:[e.jsx("input",{id:"inputFile",type:"file",onChange:d,className:"inputFile",ref:r}),e.jsx("label",{htmlFor:"inputFile",className:"uploadPhoto",children:!a&&e.jsx("p",{className:"profile-upload",children:"Upload photo"})}),a&&e.jsxs("div",{className:"selected-file-input-wrap my-pet",children:[e.jsx("input",{type:"text",value:c.pathname==="/add-pet"?void 0:p||"",className:"selected-file-input",placeholder:"Enter URL",onChange:u,onBlur:h}),e.jsx("label",{htmlFor:"inputFile",className:"uploadPhoto",children:e.jsxs("div",{className:"profile-upload-wrap",children:[e.jsx("p",{className:"profile-upload edit",children:"Upload photo"}),e.jsx(y,{name:"icon-upload",className:"icon-upload",width:18,height:18})]})})]})]})});export{b as U};

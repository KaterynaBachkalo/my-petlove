import{j as e,I as g,u as b,L as y,J as P,B as v,r as o}from"./index-Bzpn_tu7.js";import{U as S}from"./UploadFotoForm-bo_URObL.js";import{u as k}from"./index.esm-D9OrTgVX.js";import{c as U,a as u,o as I}from"./index.esm-BARygdmS.js";const w="/my-petlove/assets/image@1x-_fS8GYIq.png",D="/my-petlove/assets/image@2x-Ccy85Vjj.png",F="/my-petlove/assets/image@1x-Dazjq9GK.png",R="/my-petlove/assets/image@2x-BpOfkYDk.png",$="/my-petlove/assets/image@1x-DmknmZvO.png",L="/my-petlove/assets/image@2x-C8aySFPT.png",C=({handleCheckGender:i})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"addPet-icon-wrap",children:[e.jsx("div",{className:"addPet-icon woman",onClick:()=>i("woman"),children:e.jsx(g,{name:"icon-female",className:"icon-woman",width:20,height:20})}),e.jsx("div",{className:"addPet-icon man",onClick:()=>i("man"),children:e.jsx(g,{name:"icon-male",className:"icon-man",width:20,height:20})}),e.jsx("div",{className:"addPet-icon man-woman",onClick:()=>i("man-woman"),children:e.jsx(g,{name:"icon-male-female",className:"icon-man-woman",width:20,height:20})})]})}),O=({petData:i,resetPetData:c})=>{var p,m,x,r;const t=b(),l=U({title:u().default(""),name:u().default(""),birthday:u().default(""),species:u().default("")}).required(),{register:s,handleSubmit:d,reset:j,formState:{errors:n}}=k({resolver:I(l)}),f=async a=>{const h={title:a.title,name:a.name,birthday:a.birthday,species:a.species,...i};try{if(await t(P(h)),Object.keys(n).length!==0)return v.error("Something went wrong...");v.success("Your data is successfully updated"),j(),c()}catch{v.error("Something went wrong, please try again.")}};return e.jsxs("form",{onSubmit:d(f),children:[e.jsxs("div",{className:"wrap-input",children:[e.jsxs("div",{children:[e.jsx("input",{...s("title"),className:"input",placeholder:"Title"}),e.jsx("p",{className:"form-errors",children:(p=n.title)==null?void 0:p.message})]}),e.jsxs("div",{children:[e.jsx("input",{...s("name"),className:"input",placeholder:"Pet's Name"}),e.jsx("p",{className:"form-errors",children:(m=n.name)==null?void 0:m.message})]}),e.jsxs("div",{children:[e.jsx("input",{...s("birthday"),className:"input"}),e.jsx("p",{className:"form-errors",children:(x=n.birthday)==null?void 0:x.message})]}),e.jsxs("div",{children:[e.jsx("input",{...s("species"),className:"input"}),e.jsx("p",{className:"form-errors",children:(r=n.species)==null?void 0:r.message})]})]}),e.jsxs("div",{className:"my-pet-button-wrapper",children:[e.jsx(y,{to:"/profile",className:"form-button back",children:"Back"}),e.jsx("button",{type:"submit",className:"form-button submit",children:"Submit"})]})]})},A=()=>{const i=b(),c=o.useRef(null),[t,l]=o.useState(),[s,d]=o.useState(null),[j,n]=o.useState(null),f=r=>{const a=r.target.files;if(a&&a.length>0){const h=a[0];l(h);const N=URL.createObjectURL(h);d(N)}};o.useEffect(()=>(t&&(l(t),c.current&&(c.current.value="")),()=>{s&&URL.revokeObjectURL(s)}),[t,i,s]);const p=r=>{n(r)},m={sex:j,imgURL:t},x=()=>{d(null),m.sex=""};return e.jsxs(e.Fragment,{children:[e.jsxs("picture",{children:[e.jsx("source",{media:"(min-width: 1280px)",srcSet:`${F} 1x, ${R} 2x`,type:"image/png",width:592,height:654}),e.jsx("source",{media:"(min-width: 768px)",srcSet:`${$} 1x, ${L} 2x`,type:"image/png",width:704}),e.jsx("source",{media:"(-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi)",srcSet:`${w} 1x, ${D} 2x`,type:"image/png"}),e.jsx("img",{src:w,alt:"dog",className:"addPet-img"})]}),e.jsxs("div",{className:"addPet-background",children:[e.jsxs("h2",{className:"addPet-title",children:["Add my pet/ ",e.jsx("span",{children:"Personal details"})]}),e.jsx(C,{handleCheckGender:p}),e.jsxs("div",{className:"img-wrap card-info-modal profile",children:[s?e.jsx("img",{src:s,alt:(t==null?void 0:t.name)??"Pet avatar",className:"pet-avatar"}):e.jsx(g,{name:"icon-paw",className:"",width:68,height:68}),e.jsx(S,{onChange:f,ref:c,isModal:!0,petAvatarUrl:s})]}),e.jsx(O,{petData:m,resetPetData:x})]})]})};export{A as default};

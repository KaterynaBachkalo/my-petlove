import{j as e,I as g,u as N,J as b,B as w,r as m}from"./index-BPROttEY.js";import{U as P}from"./UploadFotoForm-DtLnNeyn.js";import{u as S}from"./index.esm-DLbao232.js";import{c as k,a as u,o as U}from"./index.esm-DHoCxQlM.js";const v="/my-petlove/assets/image@1x-_fS8GYIq.png",I="/my-petlove/assets/image@2x-Ccy85Vjj.png",D="/my-petlove/assets/image@1x-Dazjq9GK.png",F="/my-petlove/assets/image@2x-BpOfkYDk.png",R="/my-petlove/assets/image@1x-DmknmZvO.png",$="/my-petlove/assets/image@2x-C8aySFPT.png",C=({handleCheckGender:n})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"addPet-icon-wrap",children:[e.jsx("div",{className:"addPet-icon woman",onClick:()=>n("woman"),children:e.jsx(g,{name:"icon-woman",className:"icon-woman",width:20,height:20})}),e.jsx("div",{className:"addPet-icon man",onClick:()=>n("man"),children:e.jsx(g,{name:"icon-man",className:"icon-man",width:20,height:20})}),e.jsx("div",{className:"addPet-icon man-woman",onClick:()=>n("man-woman"),children:e.jsx(g,{name:"icon-man-woman",className:"icon-man-woman",width:20,height:20})})]})}),G=({petData:n,resetPetData:c})=>{var p,o,x,r;const t=N(),l=k({title:u().default(""),name:u().default(""),birthday:u().default(""),species:u().default("")}).required(),{register:s,handleSubmit:d,reset:j,formState:{errors:i}}=S({resolver:U(l)}),f=async a=>{const h={title:a.title,name:a.name,birthday:a.birthday,species:a.species,...n};try{if(await t(b(h)),Object.keys(i).length!==0)return w.error("Something went wrong...");w.success("Your data is successfully updated"),j(),c()}catch{w.error("Something went wrong, please try again.")}};return e.jsxs("form",{onSubmit:d(f),children:[e.jsxs("div",{className:"wrap-input",children:[e.jsxs("div",{children:[e.jsx("input",{...s("title"),className:"input",placeholder:"Title"}),e.jsx("p",{className:"form-errors",children:(p=i.title)==null?void 0:p.message})]}),e.jsxs("div",{children:[e.jsx("input",{...s("name"),className:"input",placeholder:"Pet's Name"}),e.jsx("p",{className:"form-errors",children:(o=i.name)==null?void 0:o.message})]}),e.jsxs("div",{children:[e.jsx("input",{...s("birthday"),className:"input"}),e.jsx("p",{className:"form-errors",children:(x=i.birthday)==null?void 0:x.message})]}),e.jsxs("div",{children:[e.jsx("input",{...s("species"),className:"input"}),e.jsx("p",{className:"form-errors",children:(r=i.species)==null?void 0:r.message})]})]}),e.jsx("button",{type:"submit",className:"form-button",children:"Go to profile"})]})},A=()=>{const n=N(),c=m.useRef(null),[t,l]=m.useState(),[s,d]=m.useState(null),[j,i]=m.useState(null),f=r=>{const a=r.target.files;if(a&&a.length>0){const h=a[0];l(h);const y=URL.createObjectURL(h);d(y)}};m.useEffect(()=>(t&&(l(t),c.current&&(c.current.value="")),()=>{s&&URL.revokeObjectURL(s)}),[t,n,s]);const p=r=>{i(r)},o={sex:j,imgURL:t},x=()=>{d(null),o.sex=""};return e.jsxs(e.Fragment,{children:[e.jsxs("picture",{children:[e.jsx("source",{media:"(min-width: 1280px)",srcSet:`${D} 1x, ${F} 2x`,type:"image/png",width:592,height:654}),e.jsx("source",{media:"(min-width: 768px)",srcSet:`${R} 1x, ${$} 2x`,type:"image/png",width:704}),e.jsx("source",{media:"(-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi)",srcSet:`${v} 1x, ${I} 2x`,type:"image/png"}),e.jsx("img",{src:v,alt:"dog",className:"addPet-img"})]}),e.jsxs("div",{className:"addPet-background",children:[e.jsxs("h2",{className:"addPet-title",children:["Add my pet/ ",e.jsx("span",{children:"Personal details"})]}),e.jsx(C,{handleCheckGender:p}),e.jsxs("div",{className:"img-wrap card-info-modal profile",children:[s?e.jsx("img",{src:s,alt:(t==null?void 0:t.name)??"Pet avatar",className:"pet-avatar"}):e.jsx(g,{name:"icon-paw",className:"",width:68,height:68}),e.jsx(P,{onChange:f,ref:c,isModal:!0,petAvatarUrl:s})]}),e.jsx(G,{petData:o,resetPetData:x})]})]})};export{A as default};

import{r as l,a as f,e as j,s as y,j as e,I as F,K as N,B as g}from"./index-DoziOfyJ.js";function v(t){try{return decodeURIComponent(escape(t))}catch{return t}}const I=l.forwardRef(({onChange:t,isModal:s},n)=>{const[a,c]=l.useState(""),i=f(),p=j(y).avatar.split("_").slice(1,3).join("_"),d=v(p),u=o=>{t(o)},h=o=>{c(o.target.value)},m=async()=>{if(a)try{const o=`http://localhost:4000/api/proxy?url=${encodeURIComponent(a)}`,r=(await N.get(o,{responseType:"blob"})).data,U=new File([r],a,{type:r.type});t(U)}catch{g.error("Error loading image by URL")}},x=()=>{m()};return e.jsxs("form",{children:[e.jsx("input",{id:"inputFile",type:"file",onChange:u,className:"inputFile",ref:n}),e.jsx("label",{htmlFor:"inputFile",className:"uploadPhoto",children:!s&&e.jsx("p",{className:"profile-upload",children:"Upload photo"})}),s&&e.jsxs("div",{className:"selected-file-input-wrap my-pet",children:[e.jsx("input",{type:"text",value:i.pathname==="/add-pet"?void 0:d||"",className:"selected-file-input",placeholder:"Enter URL",onChange:h,onBlur:x}),e.jsx("label",{htmlFor:"inputFile",className:"uploadPhoto",children:e.jsxs("div",{className:"profile-upload-wrap",children:[e.jsx("p",{className:"profile-upload edit",children:"Upload photo"}),e.jsx(F,{name:"icon-upload",className:"icon-upload",width:18,height:18})]})})]})]})});export{I as U};

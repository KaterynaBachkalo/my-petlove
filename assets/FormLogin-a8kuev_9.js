import{r as f,a as C,b as q,u as E,j as s,I as r,L,c as T,B as n,l as B}from"./index-CpC1ec9x.js";import{u as D}from"./index.esm-lA5Eeoeb.js";import{c as F,a as t,b as I,o as R}from"./index.esm-_m9MMT-9.js";const A=({formText:N,link:y,textLink:k,buttonText:v,isInput:l})=>{var w,x,g,j;const[m,d]=f.useState(!1),[p,h]=f.useState(!1),u=C(),S=q(),P=F({name:t(),email:t().email().required("Email is required"),password:t().required("Password is required").min(6),confirmPassword:t().oneOf([I("password"),void 0],"Passwords must match")}).required(),{register:o,handleSubmit:b,formState:{errors:e}}=D({resolver:R(P)}),{theme:i}=E(),$=async a=>{try{if(S.pathname==="/register"){const c={name:a.name,email:a.email,password:a.password};if(await u(T(c)),e)return n.error("Something went wrong...");n.success("Registration successful!")}else{const c={email:a.email,password:a.password};if(await u(B(c)),e)return n.error("Something went wrong...")}}catch{n.error("Something went wrong, please try again.")}};return s.jsxs("form",{onSubmit:b($),children:[s.jsxs("div",{className:"wrap-input",children:[l&&s.jsxs("div",{children:[s.jsx("input",{...o("name"),placeholder:"Name",className:`input ${i==="light"?"":"dark"}`}),s.jsx("p",{className:"form-errors",children:(w=e.name)==null?void 0:w.message})]}),s.jsxs("div",{children:[s.jsx("input",{...o("email"),placeholder:"Email",className:`input ${i==="light"?"":"dark"}`}),s.jsx("p",{className:"form-errors",children:(x=e.email)==null?void 0:x.message})]}),s.jsxs("div",{className:"password-wrap",children:[s.jsx("input",{...o("password"),placeholder:"Password",type:m?"text":"password",className:`input ${i==="light"?"":"dark"}`}),m?s.jsx("div",{onClick:()=>d(!1),children:s.jsx(r,{name:"openeye",className:"icon-eye"})}):s.jsx("div",{onClick:()=>d(!0),children:s.jsx(r,{name:"closeeye",className:"icon-eye"})}),s.jsx("p",{className:"form-errors",children:(g=e.password)==null?void 0:g.message})]}),l&&s.jsxs("div",{className:"password-wrap",children:[s.jsx("input",{...o("confirmPassword"),placeholder:"Confirm password",type:p?"text":"password",className:`input ${i==="light"?"":"dark"}`}),p?s.jsx("div",{onClick:()=>h(!1),children:s.jsx(r,{name:"openeye",className:"icon-eye"})}):s.jsx("div",{onClick:()=>h(!0),children:s.jsx(r,{name:"closeeye",className:"icon-eye"})}),s.jsx("p",{className:"form-errors",children:(j=e.confirmPassword)==null?void 0:j.message})]})]}),s.jsx("button",{type:"submit",className:"form-button",children:v}),s.jsxs("a",{href:"https://my-petlove-backend.vercel.app/api/users/google",className:"googleLogin",children:[s.jsx(r,{name:"icon-google-icon",width:24,height:24,className:"googleIcon"}),s.jsx("p",{className:"googleText",children:"Enter with Google"})]}),s.jsxs("p",{className:"form-text",children:[N," ",s.jsx(L,{to:y,className:"form-link",children:k})]})]})};export{A as F};
